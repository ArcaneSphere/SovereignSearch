<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NFA Gallery Viewer</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="wallet-cartouche">
  <div class="status-indicator">
    <div class="status-dot info" id="statusDot"></div>
    <div class="status-text" id="statusText">Ready to connect</div>
  </div>
  <div class="wallet-notice hidden" id="walletNotice">‚ö†Ô∏è Check your wallet terminal to approve requests</div>
  <button onclick="connectWallet()" id="btnConnect">Connect Wallet</button>
  <button onclick="disconnectWallet()" id="btnDisconnect" class="danger hidden">Disconnect</button>
</div>

<div class="info-cartouche hidden" id="infoCartouche">
  <!-- Node -->
  <div>
    <div style="font-size:0.75em;color:#6b7280;margin-bottom:5px;text-align:center;font-weight:600;">Node</div>
    <div style="font-family:'Courier New',monospace;font-size:0.7em;color:#667eea;word-break:break-all;text-align:center;" id="daemonAddress">Not connected</div>
  </div>
  
  <!-- Block Height -->
  <div>
    <div style="font-size:0.75em;color:#6b7280;margin-bottom:5px;text-align:center;font-weight:600;">Block Height</div>
    <div style="font-weight:700;color:#667eea;font-size:1.2em;text-align:center;" id="blockHeight">-</div>
  </div>
  
  <!-- Wallet Balance -->
  <div>
    <div style="font-size:0.75em;color:#6b7280;margin-bottom:5px;text-align:center;font-weight:600;">Wallet Balance</div>
    <div style="font-weight:700;color:#667eea;font-size:1.2em;text-align:center;" id="walletBalance">0 DERO</div>
  </div>
  
  <!-- Wallet Address -->
  <div>
    <div style="font-size:0.75em;color:#6b7280;margin-bottom:5px;text-align:center;font-weight:600;">Wallet Address</div>
    <div class="wallet-address" id="walletAddress" style="margin:0;"></div>
  </div>
  
  <!-- Daemon RPC Endpoint -->
  <div>
    <div style="font-size:0.75em;color:#6b7280;margin-bottom:5px;text-align:center;font-weight:600;">Daemon RPC</div>
    <input type="text" 
           class="manual-scid-input" 
           id="daemonRPC" 
           placeholder="https://dero-node..."
           style="margin-bottom:0;font-size:0.75em;">
    <div style="font-size:0.65em;color:#9ca3af;margin-top:3px;text-align:center;">For metadata</div>
  </div>
  
  <!-- Scan Button -->
  <div>
    <div style="font-size:0.75em;color:transparent;margin-bottom:5px;font-weight:600;">Action</div>
    <button onclick="scanForAssets()" id="btnScan" style="margin-top:0;">Scan for NFAs</button>
  </div>
</div>

<div class="lookup-cartouche hidden" id="lookupCartouche">
  <div class="manual-lookup-label" style="text-align:center;font-size:1em;font-weight:600;margin-bottom:15px;">Manual NFA Lookup</div>
  <input type="text" 
         class="manual-scid-input" 
         id="manualScid" 
         placeholder="Enter SCID (e.g., f98817c0...)"
         maxlength="64">
  <button onclick="lookupNFA()" id="btnLookup">Look Up NFA</button>
  <div class="error-message hidden" id="lookupError"></div>
  <div class="success-message hidden" id="lookupSuccess"></div>
</div>

<div class="container">
<header>
<h1>üé® NFA Gallery Viewer</h1>
<p class="subtitle">Explore your DERO Non-Fungible Assets</p>
</header>
<div class="scan-progress hidden" id="scanProgress">
  <div class="progress-text" id="progressText">Scanning wallet for NFAs...</div>
  <div class="progress-bar-container">
    <div class="progress-bar" id="progressBar"></div>
  </div>
</div>
<div class="gallery-container hidden" id="galleryContainer">
  <div class="gallery-header">
    <h2 class="gallery-title">My NFAs</h2>
    <div class="nfa-count" id="nfaCount">0 NFAs</div>
  </div>
  <div class="gallery-grid" id="galleryGrid"></div>
  <div class="empty-state hidden" id="emptyState">
    <div class="empty-state-icon">üñºÔ∏è</div>
    <div class="empty-state-text">No NFAs Found</div>
    <p class="empty-state-subtext">
      Unable to detect NFAs automatically.<br><br>
      <strong>Note:</strong> Engram's Gnomon indexer data is not accessible via XSWD.<br>
      Please use Engram's built-in "Asset Explorer" to view your NFAs,<br>
      or enable Engram's Cyberdeck RPC bridge for advanced integration.<br><br>
      You can also try the <strong>Manual NFA Lookup</strong> feature above.
    </p>
  </div>
</div>
</div>

<script src="main.js"></script>
</body>
</html>